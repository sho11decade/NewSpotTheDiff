{% extends "base.html" %}
{% block title %}生成中... - 間違い探し自動生成{% endblock %}

{% block content %}
<div class="card processing-card">
    <h2>間違い探しを生成しています...</h2>

    <div class="progress-container">
        <div class="progress-bar">
            <div class="progress-bar__fill" id="progressFill" style="width: 0%"></div>
        </div>
        <p class="progress-text" id="progressText">0%</p>
    </div>

    <p class="step-text" id="stepText">待機中...</p>

    <!-- Process steps visualization -->
    <div class="process-steps">
        <div class="step" id="step-load">
            <div class="step-icon">📁</div>
            <div class="step-label">画像読み込み</div>
            <div class="step-status">待機中</div>
        </div>
        <div class="step" id="step-segment">
            <div class="step-icon">🔍</div>
            <div class="step-label">オブジェクト検出</div>
            <div class="step-status">待機中</div>
        </div>
        <div class="step" id="step-saliency">
            <div class="step-icon">🎯</div>
            <div class="step-label">顕著性解析</div>
            <div class="step-status">待機中</div>
        </div>
        <div class="step" id="step-modify">
            <div class="step-icon">✨</div>
            <div class="step-label">画像変更</div>
            <div class="step-status">待機中</div>
        </div>
        <div class="step" id="step-finalize">
            <div class="step-icon">✅</div>
            <div class="step-label">最終処理</div>
            <div class="step-status">待機中</div>
        </div>
    </div>

    <div class="processing-animation">
        <div class="spinner"></div>
    </div>

    <p class="estimated-time" id="estimatedTime"></p>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/processing.js') }}"></script>
{% endblock %}
